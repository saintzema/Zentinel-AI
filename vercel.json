# Vercel Deployment Configuration
# This allows the landing page and dashboard to work seamlessly on Vercel

# Build the frontend React app
[build
]
  command = "cd frontend && npm install && npm run build"
  publish = "frontend/dist"

# Serve landing page from /landing directory
[
    [redirects
    ]
]
  from = "/"
  to = "/landing/index.html"
  status = 200
  force = false

[
    [redirects
    ]
]
  from = "/login"
  to = "/landing/login.html"
  status = 200

# Rewrites for frontend app (all other routes go to React app)
[
    [redirects
    ]
]
  from = "/dashboard/*"
  to = "/index.html"
  status = 200

# API proxying to backend (you'll need to deploy backend separately)
[
    [redirects
    ]
]
  from = "/api/*"
  to = "https://your-backend-url.com/api/:splat"
  status = 200
  force = true

# Static assets
[
    [headers
    ]
]
  for = "/assets/*"[headers.values
]
    Cache-Control = "public, max-age=31536000, immutable"